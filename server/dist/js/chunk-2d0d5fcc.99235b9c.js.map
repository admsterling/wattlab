{"version":3,"sources":["webpack:///./src/components/lab/HelpViews/LabHelper/components/HelpQue.vue?0e9b","webpack:///src/components/lab/HelpViews/LabHelper/components/HelpQue.vue","webpack:///./src/components/lab/HelpViews/LabHelper/components/HelpQue.vue?efea","webpack:///./src/components/lab/HelpViews/LabHelper/components/HelpQue.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","_s","queLength","queTime","waiting","on","startHelp","_e","staticRenderFns","data","elapsedTime","timer","undefined","que","computed","formattedElapsedTime","date","setSeconds","utc","substr","indexOf","length","methods","lab_id","labCode","sendTo","reciever","$socket","id","staff","username","emit","queData","recieverData","sockets","updateQue","startHelper","$store","dispatch","mounted","method","query","variables","component","VBtn","VCol","VContainer","VRow"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CAAC,aAAa,KAAK,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,SAAS,QAAU,WAAW,CAACN,EAAIO,GAAG,oBAAoBH,EAAG,OAAO,CAACI,YAAY,+BAA+B,CAACR,EAAIO,GAAGP,EAAIS,GAAGT,EAAIU,cAAcN,EAAG,MAAMJ,EAAIO,GAAG,wBAAwBH,EAAG,OAAO,CAACI,YAAY,+BAA+B,CAACR,EAAIO,GAAGP,EAAIS,GAAGT,EAAIW,eAAe,GAAGP,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,SAAS,QAAU,WAAW,CAAEL,KAAKS,UAAY,EAAGN,EAAG,QAAQ,CAACE,MAAM,CAAC,QAAUN,EAAIY,QAAQ,SAAWZ,EAAIY,SAASC,GAAG,CAAC,MAAQb,EAAIc,YAAY,CAACd,EAAIO,GAAG,kBAAkBP,EAAIe,MAAM,IAAI,IAAI,IAC/rBC,EAAkB,G,yDC4BtB,GACEC,KADF,WAEI,MAAO,CACLC,YAAa,EACbC,WAAOC,EACPR,SAAS,EACTS,IAAK,KAGTC,SAAU,OAAZ,OAAY,CAAZ,kBACA,gBACI,OAAJ,gBACI,QAAJ,iBACI,SAAJ,qBAJA,IAMIC,qBANJ,WAOM,IAAN,iBACMC,EAAKC,WAAWxB,KAAKiB,YAAc,KACnC,IAAN,kBACM,OAAOQ,EAAIC,OAAOD,EAAIE,QAAQ,KAAO,EAAG,IAE1ClB,UAZJ,WAaM,OAAOT,KAAKoB,IAAIQ,QAElBlB,QAfJ,WAgBM,MAAO,UAGXmB,QAAS,CACPhB,UADJ,WAEMb,KAAKW,SAAU,EACf,IAAN,mBACA,GACQmB,OAAQ9B,KAAK8B,OACbC,QAAS/B,KAAK+B,SAEtB,GACQC,OAAQC,EACRA,SAAUjC,KAAKkC,QAAQC,GACvBC,MAAOpC,KAAKqC,UAEdrC,KAAKkC,QAAQI,KAAK,YAAaC,GAC/BvC,KAAKkC,QAAQI,KAAK,YAAaE,KAGnCC,QAAS,CACPC,UAAW,SAAf,GACM1C,KAAKoB,IAAMJ,GAEb2B,YAAa,SAAjB,GACM3C,KAAK4C,OAAOC,SAAS,4BAA6B7B,KAGtD8B,QArDF,WAqDA,WACI,IAAJ,uDACMC,OAAQ,OACR/B,KAAM,CACJgC,MAAO,sHAKPC,UAAW,CACTnB,OAAQ9B,KAAK8B,WAIvB,kBACM,EAAN,0BAEA,mBACM,GAAN,YACQ,EAAR,iCACQ,IAAR,iCACU,EAAV,0CAGQ,QAAR,4BC1G6Y,I,iFCOzYoB,EAAY,eACd,EACApD,EACAiB,GACA,EACA,KACA,KACA,MAIa,aAAAmC,EAAiB,QAQhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,OAAA,KAAKC,aAAA,KAAWC,OAAA","file":"js/chunk-2d0d5fcc.99235b9c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"no-gutters\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"align\":\"center\",\"justify\":\"center\"}},[_vm._v(\" People in que: \"),_c('span',{staticClass:\"purple--text lighten-text-1\"},[_vm._v(_vm._s(_vm.queLength))]),_c('br'),_vm._v(\" Average Wait Time: \"),_c('span',{staticClass:\"purple--text lighten-text-1\"},[_vm._v(_vm._s(_vm.queTime))])])],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"align\":\"center\",\"justify\":\"center\"}},[(this.queLength > 0)?_c('v-btn',{attrs:{\"loading\":_vm.waiting,\"disabled\":_vm.waiting},on:{\"click\":_vm.startHelp}},[_vm._v(\"Help Student\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container no-gutters>\r\n    <v-row>\r\n      <v-col cols=\"12\" align=\"center\" justify=\"center\">\r\n        People in que:\r\n        <span class=\"purple--text lighten-text-1\">{{ queLength }}</span\r\n        ><br />\r\n        Average Wait Time:\r\n        <span class=\"purple--text lighten-text-1\">{{ queTime }}</span>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"12\" align=\"center\" justify=\"center\">\r\n        <v-btn\r\n          v-if=\"this.queLength > 0\"\r\n          @click=\"startHelp\"\r\n          :loading=\"waiting\"\r\n          :disabled=\"waiting\"\r\n          >Help Student</v-btn\r\n        >\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      elapsedTime: 0,\r\n      timer: undefined,\r\n      waiting: false,\r\n      que: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      lab_id: \"socket/lab_id\",\r\n      labCode: \"socket/labCode\",\r\n      username: \"socket/username\",\r\n    }),\r\n    formattedElapsedTime() {\r\n      const date = new Date(null);\r\n      date.setSeconds(this.elapsedTime / 1000);\r\n      const utc = date.toUTCString();\r\n      return utc.substr(utc.indexOf(\":\") + 1, 5);\r\n    },\r\n    queLength() {\r\n      return this.que.length;\r\n    },\r\n    queTime() {\r\n      return \"x:xx\";\r\n    },\r\n  },\r\n  methods: {\r\n    startHelp() {\r\n      this.waiting = true;\r\n      const reciever = this.que.shift();\r\n      const queData = {\r\n        lab_id: this.lab_id,\r\n        labCode: this.labCode,\r\n      };\r\n      const recieverData = {\r\n        sendTo: reciever,\r\n        reciever: this.$socket.id,\r\n        staff: this.username,\r\n      };\r\n      this.$socket.emit(\"updateQue\", queData);\r\n      this.$socket.emit(\"startHelp\", recieverData);\r\n    },\r\n  },\r\n  sockets: {\r\n    updateQue: function (data) {\r\n      this.que = data;\r\n    },\r\n    startHelper: function (data) {\r\n      this.$store.dispatch(\"socket/setprivateChatInfo\", data);\r\n    },\r\n  },\r\n  mounted() {\r\n    axios(process.env.ENDPOINT, {\r\n      method: \"POST\",\r\n      data: {\r\n        query: `\r\n              query getQue($lab_id: ID!){\r\n                getQue(lab_id: $lab_id)\r\n              }\r\n            `,\r\n        variables: {\r\n          lab_id: this.lab_id,\r\n        },\r\n      },\r\n    })\r\n      .then((res) => {\r\n        this.que = res.data.data.getQue;\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          this.errorList = error.response.data.errors;\r\n          for (let i = 0; i < this.errorList.length; i++) {\r\n            this.$toast.error(this.errorList[i].message);\r\n          }\r\n        } else {\r\n          console.log(\"Error\", error.message);\r\n        }\r\n      });\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpQue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpQue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelpQue.vue?vue&type=template&id=32ffd130&\"\nimport script from \"./HelpQue.vue?vue&type=script&lang=js&\"\nexport * from \"./HelpQue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VContainer,VRow})\n"],"sourceRoot":""}