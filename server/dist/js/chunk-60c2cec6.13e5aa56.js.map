{"version":3,"sources":["webpack:///../../../src/components/VDataTable/VSimpleTable.ts","webpack:///./src/components/lab/HelpViews/LabHelper/components/HelpQue.vue?3b95","webpack:///src/components/lab/HelpViews/LabHelper/components/HelpQue.vue","webpack:///./src/components/lab/HelpViews/LabHelper/components/HelpQue.vue?efea","webpack:///./src/components/lab/HelpViews/LabHelper/components/HelpQue.vue","webpack:///../../../src/components/VDivider/VDivider.ts"],"names":["name","props","dense","fixedHeader","height","Number","String","computed","classes","this","$slots","themeClasses","methods","genWrapper","wrapper","$createElement","staticClass","style","render","h","class","_vm","_h","_c","_self","attrs","_v","_s","queLength","on","helpNext","markNext","staticStyle","_l","queItem","i","key","_f","createdAt","queType","title","desc","waiting","$event","startHelp","staticRenderFns","data","headers","que","now","Date","length","console","log","indexPos","sockets","updateQue","startHelper","$store","dispatch","mounted","interval","setInterval","method","query","variables","lab_id","beforeDestroy","clearInterval","component","VBtn","VCard","VCardText","VCardTitle","VCol","VContainer","VDivider","VRow","VSimpleTable","VSpacer","inset","vertical","Boolean","$attrs","role","orientation","$listeners"],"mappings":"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","file":"js/chunk-60c2cec6.13e5aa56.js","sourcesContent":["import './VSimpleTable.sass'\n\nimport { convertToUnit } from '../../util/helpers'\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\nexport default mixins(Themeable).extend({\n  name: 'v-simple-table',\n\n  props: {\n    dense: Boolean,\n    fixedHeader: Boolean,\n    height: [Number, String],\n  },\n\n  computed: {\n    classes (): Record<string, boolean> {\n      return {\n        'v-data-table--dense': this.dense,\n        'v-data-table--fixed-height': !!this.height && !this.fixedHeader,\n        'v-data-table--fixed-header': this.fixedHeader,\n        'v-data-table--has-top': !!this.$slots.top,\n        'v-data-table--has-bottom': !!this.$slots.bottom,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genWrapper () {\n      return this.$slots.wrapper || this.$createElement('div', {\n        staticClass: 'v-data-table__wrapper',\n        style: {\n          height: convertToUnit(this.height),\n        },\n      }, [\n        this.$createElement('table', this.$slots.default),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-data-table',\n      class: this.classes,\n    }, [\n      this.$slots.top,\n      this.genWrapper(),\n      this.$slots.bottom,\n    ])\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"no-gutters\":\"\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"align\":\"center\",\"justify\":\"center\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" People in que: \"),_c('span',{staticClass:\"purple--text lighten-text-1 ml-2\"},[_vm._v(\" \"+_vm._s(_vm.queLength)+\" \")]),_c('v-spacer'),_c('v-btn',{staticClass:\"purple--text lighten-text-1 mx-2\",attrs:{\"outlined\":\"\"},on:{\"click\":_vm.helpNext}},[_vm._v(\" Help Next Student \")]),_c('v-btn',{staticClass:\"purple--text lighten-text-1 mx-2\",attrs:{\"outlined\":\"\"},on:{\"click\":_vm.markNext}},[_vm._v(\" Mark Next Student \")])],1),_c('v-divider'),_c('v-card-text',[_c('v-simple-table',{staticStyle:{\"height\":\"calc(100vh - 340px)\",\"overflow-y\":\"scroll\"},attrs:{\"fixed-header\":\"\",\"scrollable\":\"\"}},[_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\",staticStyle:{\"width\":\"107px\"}},[_vm._v(\"Time Elapsed\")]),_c('th',{staticClass:\"text-left\",staticStyle:{\"width\":\"60px\"}},[_vm._v(\"Type\")]),_c('th',{staticClass:\"text-left\",staticStyle:{\"width\":\"20%\"}},[_vm._v(\"Title\")]),_c('th',{staticClass:\"text-left\",staticStyle:{\"width\":\"100%\"}},[_vm._v(\"Description\")]),_c('th',{staticClass:\"text-left\",staticStyle:{\"width\":\"180px\"}})])]),_c('tbody',_vm._l((_vm.que),function(queItem,i){return _c('tr',{key:i},[_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"momentAgo\")(queItem.createdAt))+\" \")]),_c('td',[_vm._v(_vm._s(queItem.queType))]),_c('td',[_vm._v(_vm._s(queItem.title))]),_c('td',[_vm._v(_vm._s(queItem.desc))]),_c('td',[_c('v-btn',{staticClass:\"deep-orange lighten-2\",attrs:{\"dark\":\"\",\"loading\":_vm.waiting,\"disabled\":_vm.waiting},on:{\"click\":function($event){return _vm.startHelp(i)}}},[_vm._v(\"Help Student \")])],1)])}),0)])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container no-gutters>\r\n    <v-row no-gutters>\r\n      <v-col cols=\"12\" align=\"center\" justify=\"center\">\r\n        <v-card>\r\n          <v-card-title>\r\n            People in que:\r\n            <span class=\"purple--text lighten-text-1 ml-2\">\r\n              {{ queLength }}\r\n            </span>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n              class=\"purple--text lighten-text-1 mx-2\"\r\n              outlined\r\n              @click=\"helpNext\"\r\n            >\r\n              Help Next Student\r\n            </v-btn>\r\n            <v-btn\r\n              class=\"purple--text lighten-text-1 mx-2\"\r\n              outlined\r\n              @click=\"markNext\"\r\n            >\r\n              Mark Next Student\r\n            </v-btn>\r\n          </v-card-title>\r\n          <v-divider></v-divider>\r\n          <v-card-text>\r\n            <v-simple-table\r\n              fixed-header\r\n              style=\"height: calc(100vh - 340px); overflow-y: scroll\"\r\n              scrollable\r\n            >\r\n              <thead>\r\n                <tr>\r\n                  <th class=\"text-left\" style=\"width: 107px\">Time Elapsed</th>\r\n                  <th class=\"text-left\" style=\"width: 60px\">Type</th>\r\n                  <th class=\"text-left\" style=\"width: 20%\">Title</th>\r\n                  <th class=\"text-left\" style=\"width: 100%\">Description</th>\r\n                  <th class=\"text-left\" style=\"width: 180px\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(queItem, i) in que\" :key=\"i\">\r\n                  <td>\r\n                    {{ queItem.createdAt | momentAgo }}\r\n                  </td>\r\n                  <td>{{ queItem.queType }}</td>\r\n                  <td>{{ queItem.title }}</td>\r\n                  <td>{{ queItem.desc }}</td>\r\n                  <td>\r\n                    <v-btn\r\n                      class=\"deep-orange lighten-2\"\r\n                      dark\r\n                      @click=\"startHelp(i)\"\r\n                      :loading=\"waiting\"\r\n                      :disabled=\"waiting\"\r\n                      >Help Student\r\n                    </v-btn>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </v-simple-table>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      waiting: false,\r\n      headers: [\r\n        { text: \"Title\", value: \"title\" },\r\n        { text: \"Description\", value: \"description\" },\r\n        { text: \"Help Student\" },\r\n      ],\r\n      que: [],\r\n      now: Date.now(),\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      lab_id: \"socket/lab_id\",\r\n      labCode: \"socket/labCode\",\r\n      username: \"socket/username\",\r\n    }),\r\n    queLength() {\r\n      return this.que.length;\r\n    },\r\n  },\r\n  methods: {\r\n    async startHelp(i) {\r\n      this.waiting = true;\r\n      const reciever = this.que[i];\r\n\r\n      const recieverData = {\r\n        sendTo: reciever.socketid,\r\n        reciever: this.$socket.id,\r\n        staff: this.username,\r\n        lab_id: this.lab_id,\r\n        labCode: this.labCode,\r\n        socketid: reciever.socketid,\r\n      };\r\n      this.$socket.emit(\"startHelp\", recieverData);\r\n      this.waiting = false;\r\n    },\r\n    helpNext() {\r\n      let indexPos = this.que\r\n        .map(function (x) {\r\n          return x.queType;\r\n        })\r\n        .indexOf(\"Help\");\r\n      console.log(indexPos);\r\n      this.startHelp(indexPos);\r\n    },\r\n    markNext() {\r\n      let indexPos = this.que\r\n        .map(function (x) {\r\n          return x.queType;\r\n        })\r\n        .indexOf(\"Marking\");\r\n      console.log(indexPos);\r\n      this.startHelp(indexPos);\r\n    },\r\n  },\r\n  sockets: {\r\n    updateQue: function (data) {\r\n      this.que = data;\r\n    },\r\n    startHelper: function (data) {\r\n      this.$store.dispatch(\"socket/setprivateChatInfo\", data);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.interval = setInterval(() => {\r\n      this.$forceUpdate();\r\n    }, 1000);\r\n    axios(process.env.VUE_APP_ENDPOINT, {\r\n      method: \"POST\",\r\n      data: {\r\n        query: `\r\n              query getQue($lab_id: ID!){\r\n                getQue(lab_id: $lab_id){\r\n                  socketid\r\n                  queType\r\n                  title\r\n                  desc\r\n                  createdAt\r\n                }\r\n              }\r\n            `,\r\n        variables: {\r\n          lab_id: this.lab_id,\r\n        },\r\n      },\r\n    })\r\n      .then((res) => {\r\n        this.que = res.data.data.getQue;\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          this.errorList = error.response.data.errors;\r\n          for (let i = 0; i < this.errorList.length; i++) {\r\n            this.$toast.error(this.errorList[i].message);\r\n          }\r\n        } else {\r\n          console.log(\"Error\", error.message);\r\n        }\r\n      });\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.interval);\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpQue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpQue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelpQue.vue?vue&type=template&id=32e6aebb&\"\nimport script from \"./HelpQue.vue?vue&type=script&lang=js&\"\nexport * from \"./HelpQue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VContainer,VDivider,VRow,VSimpleTable,VSpacer})\n","// Styles\nimport './VDivider.sass'\n\n// Types\nimport { VNode } from 'vue'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\nexport default Themeable.extend({\n  name: 'v-divider',\n\n  props: {\n    inset: Boolean,\n    vertical: Boolean,\n  },\n\n  render (h): VNode {\n    // WAI-ARIA attributes\n    let orientation\n    if (!this.$attrs.role || this.$attrs.role === 'separator') {\n      orientation = this.vertical ? 'vertical' : 'horizontal'\n    }\n    return h('hr', {\n      class: {\n        'v-divider': true,\n        'v-divider--inset': this.inset,\n        'v-divider--vertical': this.vertical,\n        ...this.themeClasses,\n      },\n      attrs: {\n        role: 'separator',\n        'aria-orientation': orientation,\n        ...this.$attrs,\n      },\n      on: this.$listeners,\n    })\n  },\n})\n"],"sourceRoot":""}