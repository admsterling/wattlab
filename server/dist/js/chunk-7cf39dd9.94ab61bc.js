(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cf39dd9"],{1681:function(t,e,a){},"4bd4":function(t,e,a){"use strict";a("4de4"),a("7db0"),a("4160"),a("caad"),a("07ac"),a("2532"),a("159b");var i=a("5530"),n=a("58df"),r=a("7e2b"),s=a("3206");e["a"]=Object(n["a"])(r["a"],Object(s["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,a=function(t){return t.$watch("hasError",(function(a){e.$set(e.errorBag,t._uid,a)}),{immediate:!0})},i={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(function(n){n&&(e.errorBag.hasOwnProperty(t._uid)||(i.valid=a(t)))})):i.valid=a(t),i},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var a=this.watchers.find((function(t){return t._uid===e._uid}));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(i["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},"6c0e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"no-gutters":""}},[a("v-row",[a("v-col"),a("v-col",{staticClass:"text-center",attrs:{cols:"8",lg:"6",xl:"5"}},[t.loading?a("v-card",[a("v-card-title",[t._v(" You have joined the queue... ")]),a("v-divider"),a("v-card-text",[a("p",{staticClass:"text-h3"},[t._v(" People in que: "),a("span",{staticClass:"purple--text lighten-text-1"},[t._v(t._s(t.queLength))])]),a("p",{staticClass:"text-h3"},[t._v(" You are "),a("span",{staticClass:"purple--text lighten-text-1"},[t._v(t._s(t.quePosition))]),t._v(" in the que ")])]),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"mb-2 deep-orange lighten-2",attrs:{dark:""},on:{click:t.cancelHelp}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-cancel")]),t._v("Cancel ")],1)],1)],1):a("v-card",[a("v-form",{ref:"helpForm"},[a("v-card-title",[t._v("Please fill out the form:")]),a("v-divider"),a("v-card-text",[a("v-select",{attrs:{items:t.labOptions,label:"I need:",outlined:""},model:{value:t.helpObj.queType,callback:function(e){t.$set(t.helpObj,"queType",e)},expression:"helpObj.queType"}}),a("v-text-field",{attrs:{rules:[t.rules.required,t.rules.notempty],label:"Please enter Lab/Coursework Title:"},model:{value:t.helpObj.title,callback:function(e){t.$set(t.helpObj,"title",e)},expression:"helpObj.title"}}),"Help"==t.helpObj.queType?a("v-textarea",{attrs:{label:"Description:",rules:[t.rules.required],counter:"200",maxlength:"200","auto-grow":""},model:{value:t.helpObj.desc,callback:function(e){t.$set(t.helpObj,"desc",e)},expression:"helpObj.desc"}}):t._e()],1),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"mb-2",attrs:{loading:t.loading,disabled:t.loading},on:{click:t.getHelp}},[t._v(" Get Help ")])],1)],1)],1)],1),a("v-col")],1)],1)},n=[],r=(a("c740"),a("96cf"),a("1da1")),s=a("5530"),o=a("bc3a"),u=a.n(o),c=a("2f62"),l={data:function(){return{labOptions:["Help","Marking"],helpObj:{queType:"Help",title:"",desc:""},que:[],loading:!1,rules:{required:function(t){return!!t||"Required Field"},notempty:function(t){return t.length>0||"Required Field"}}}},computed:Object(s["a"])(Object(s["a"])({},Object(c["b"])({lab_id:"socket/lab_id",labCode:"socket/labCode",username:"socket/username",privateChat:"socket/privateChat",gettingSupport:"socket/gettingSupport",queWaiting:"socket/queWaiting"})),{},{queLength:function(){return this.que.length},quePosition:function(){var t,e=this,a=this.que.findIndex((function(t){return t.socketid===e.$socket.id}));switch(a){case 0:t="1st";break;case 1:t="2nd";break;case 2:t="3rd";break;default:t=a+1+"th"}return t}}),watch:{"helpObj.queType":{handler:function(){this.helpObj.desc=""},deep:!0}},methods:{getHelp:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$refs.helpForm.validate()){e.next=6;break}return t.loading=!0,a=Object(s["a"])(Object(s["a"])({},t.helpObj),{},{lab_id:t.lab_id,labCode:t.labCode,socketid:t.$socket.id}),e.next=5,t.$socket.emit("joinQue",a);case 5:t.$store.dispatch("socket/joinQue").then((function(){t.helpObj={queType:"Help",title:"",desc:""}}));case 6:case"end":return e.stop()}}),e)})))()},cancelHelp:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={lab_id:t.lab_id,labCode:t.labCode,socketid:t.$socket.id},t.$store.dispatch("socket/leaveQue").then((function(){t.$socket.emit("leaveQue",a),t.loading=!1}));case 2:case"end":return e.stop()}}),e)})))()}},sockets:{updateQue:function(t){this.que=t},startHelp:function(t){var e=this;this.$store.dispatch("socket/privateChatInfo",t).then((function(){var t={sendTo:e.gettingSupport.reciever,reciever:e.$socket.id,privateChat:e.privateChat};e.$socket.emit("startHelper",t)}))}},mounted:function(){var t=this;u()("https://watt-lab-api.herokuapp.com/graphql",{method:"POST",data:{query:"\n              query getQue($lab_id: ID!){\n                getQue(lab_id: $lab_id){\n                  socketid\n                }\n              }\n            ",variables:{lab_id:this.lab_id}}}).then((function(e){t.que=e.data.data.getQue})).catch((function(e){if(e.response){t.errorList=e.response.data.errors;for(var a=0;a<t.errorList.length;a++)t.$toast.error(t.errorList[a].message)}else console.log("Error",e.message)}))}},d=l,h=a("2877"),p=a("6544"),f=a.n(p),v=a("8336"),b=a("b0af"),g=a("99d9"),m=a("62ad"),w=a("a523"),k=a("ce7e"),_=a("4bd4"),x=a("132d"),j=a("0fd9"),O=a("b974"),C=a("8654"),$=a("a844"),q=Object(h["a"])(d,i,n,!1,null,null,null);e["default"]=q.exports;f()(q,{VBtn:v["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["c"],VCardTitle:g["d"],VCol:m["a"],VContainer:w["a"],VDivider:k["a"],VForm:_["a"],VIcon:x["a"],VRow:j["a"],VSelect:O["a"],VTextField:C["a"],VTextarea:$["a"]})},a844:function(t,e,a){"use strict";a("a9e3");var i=a("5530"),n=(a("1681"),a("8654")),r=a("58df"),s=Object(r["a"])(n["a"]);e["a"]=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(i["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},n["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=n["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){n["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=chunk-7cf39dd9.94ab61bc.js.map